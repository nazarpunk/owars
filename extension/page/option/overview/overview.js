"use strict";{const e=new Audio("https://q4dizzy.ru/alarm.wav"),t="/?option=overview",n=(e,t)=>{const n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="document",n.send(null),n.onload=()=>{4===n.readyState&&(200===n.status?t(n):console.error(n.statusText))}},l=e=>{let t=e.split(" "),n=0;for(let e=0;e<t.length;e++){const l=t[e].slice(-1),i=parseInt(t[e].replace(/(\d+)\w/g,"$1"));"d"===l&&(n+=60*i*60*24),"h"===l&&(n+=60*i*60),"m"===l&&(n+=60*i),"s"===l&&(n+=i)}return n},i=e=>new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().replace("T"," ").substring(0,19),r=e=>{const t=new Date(1e3*e);return i(new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},s=()=>{n(t,t=>{const n=t.response.querySelectorAll("tr[style]");for(let t=0;t<n.length;t++)if("rgb(255,73,74)"===n[t].style.color)return void e.play()})},o=()=>{const e=document.querySelectorAll('table[width="530"]')[1];if(e.querySelectorAll("tr").length>1){const t=e.querySelectorAll("tr:not(:first-child)");for(let e=0;e<t.length;e++){const n=t[e].firstElementChild.nextElementSibling,s=n.nextElementSibling,o=s.firstElementChild.outerHTML,d=s.firstElementChild.nextElementSibling.innerHTML,m="IMG"===s.firstElementChild.nextElementSibling.nextElementSibling.nodeName?s.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.innerHTML:s.firstElementChild.nextElementSibling.nextElementSibling.innerHTML,a=null!==s.lastChild.nodeValue?s.lastChild.nodeValue.split(":")[1]:s.lastChild.outerHTML,g=l(t[e].firstChild.firstElementChild.innerHTML);for(let l=e+1;l<t.length;l++){const s=t[l].firstElementChild.nextElementSibling.nextElementSibling,c=s.firstElementChild.outerHTML,u=s.firstElementChild.nextElementSibling.innerHTML,h="IMG"===s.firstElementChild.nextElementSibling.nextElementSibling.nodeName?s.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.innerHTML:s.firstElementChild.nextElementSibling.nextElementSibling.innerHTML,E=null!=s.lastChild.nodeValue?s.lastChild.nodeValue.split(":")[1]:s.lastChild.outerHTML;if(c===o&&u===m&&h===d&&E===a){const s=parseInt(t[l].firstChild.firstElementChild.attributes.alt.value),o=new Date(r(s));o.setSeconds(o.getSeconds()-2*g),1===t[e].firstChild.nextElementSibling.childElementCount&&(n.innerHTML+='<div class="return_time" style="min-width: 75px;">'+i(o)+"</div>");break}}}d()}},d=()=>{const e=document.getElementsByClassName("return_time");setInterval(()=>{for(let t=0;t<e.length;t++){const n=new Date(e[t].innerHTML);n.setSeconds(n.getSeconds()+2),e[t].innerHTML=i(n)}},1e3)};(()=>{const e=document.querySelector('th[colspan="3"]');if(null===e)return;const t=new Date(e.innerHTML);setInterval((function(){t.setSeconds(t.getSeconds()+1),e.innerHTML=i(t)}),1e3)})(),o(),s(),setInterval(s,3e6)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVuc2lvbi9wYWdlL29wdGlvbi9vdmVydmlldy9vdmVydmlldy50cyJdLCJuYW1lcyI6WyJhbGFybVNvdW5kIiwiQXVkaW8iLCJwbGFuZXRhcnlVcmwiLCJnZXRfcGFnZSIsInVybCIsImNhbGxiYWNrIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsInNlbmQiLCJvbmxvYWQiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzVGV4dCIsImdldFNlY29uZHNGcm9tUmF3IiwicmF3IiwicmF3QXJyIiwic3BsaXQiLCJ0b3RhbFNlY29uZHMiLCJ6IiwibGVuZ3RoIiwidW5pdFRpbWUiLCJzbGljZSIsInVuaXQiLCJwYXJzZUludCIsInJlcGxhY2UiLCJmb3JtYXREYXRlIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJ0b0lTT1N0cmluZyIsInN1YnN0cmluZyIsImdldEh1bWFuVGltZXN0YW1wIiwidGltZXN0YW1wIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImNoZWNrQXR0YWNrIiwiZGF0YSIsInJvdyIsInJlc3BvbnNlIiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJzdHlsZSIsImNvbG9yIiwicGxheSIsInJldHVybkZsZWV0VGltZXIiLCJ0YWJsZSIsImRvY3VtZW50IiwidHIiLCJzZWNvbmRDZWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0aGlyZENlbGwiLCJmbGVldENvdW50Iiwib3V0ZXJIVE1MIiwiZnJvbSIsImlubmVySFRNTCIsInRvIiwibm9kZU5hbWUiLCJtaXNzaW9uIiwibGFzdENoaWxkIiwibm9kZVZhbHVlIiwibGFzdFRpbWUiLCJmaXJzdENoaWxkIiwieCIsIm5leHRSb3ciLCJuZXh0Um93RmxlZXRDb3VudCIsIm5leHRSb3dGcm9tIiwibmV4dFJvd1RvIiwibmV4dFJvd01pc3Npb24iLCJuZXh0Um93VGltZXN0YW1wIiwiYXR0cmlidXRlcyIsImFsdCIsInZhbHVlIiwic2V0U2Vjb25kcyIsImNoaWxkRWxlbWVudENvdW50IiwidXBkYXRlUmV0dXJuRmxlZXRzVGltZSIsInJfZmxlZXRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNldEludGVydmFsIiwicmV0dXJuVGltZSIsInRoIiwicXVlcnlTZWxlY3RvciIsInNlcnZlclRpbWUiLCJ1cGRhdGVQbGFuZXJhcnlTZXJ2ZXJUaW1lIl0sIm1hcHBpbmdzIjoiYUFBQSxDQUNDLE1BQU1BLEVBQStCLElBQUlDLE1BQU0sZ0NBQ3pDQyxFQUErQixvQkFDL0JDLEVBQStCLENBQUNDLEVBQWFDLEtBQzVDLE1BQU1DLEVBQVUsSUFBSUMsZUFDcEJELEVBQVFFLEtBQUssTUFBT0osR0FBSyxHQUN6QkUsRUFBUUcsYUFBZSxXQUN2QkgsRUFBUUksS0FBSyxNQUNiSixFQUFRSyxPQUFTLEtBQ1csSUFBdkJMLEVBQVFNLGFBQ1ksTUFBbkJOLEVBQVFPLE9BQWdCUixFQUFTQyxHQUNoQ1EsUUFBUUMsTUFBTVQsRUFBUVUsZUFHM0JDLEVBQTZCQyxJQUMvQixJQUFJQyxFQUFlRCxFQUFJRSxNQUFNLEtBQ3pCQyxFQUFlLEVBRW5CLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJSCxFQUFPSSxPQUFRRCxJQUFLLENBQ3ZDLE1BQU1FLEVBQVdMLEVBQU9HLEdBQUdHLE9BQU8sR0FDNUJDLEVBQVdDLFNBQVNSLEVBQU9HLEdBQUdNLFFBQVEsV0FBWSxPQUV2QyxNQUFiSixJQUFrQkgsR0FBdUIsR0FBUEssRUFBWSxHQUFLLElBQ3RDLE1BQWJGLElBQWtCSCxHQUF1QixHQUFQSyxFQUFZLElBQ2pDLE1BQWJGLElBQWtCSCxHQUF1QixHQUFQSyxHQUNyQixNQUFiRixJQUFrQkgsR0FBZ0JLLEdBR3ZDLE9BQU9MLEdBQ0xRLEVBQTZCQyxHQUN4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S3VELEVBQVNwQyxHQUFHZSxXQUN4Q3dCLEVBQVdOLFdBQVdNLEVBQVc3QyxhQUFlLEdBQ2hEMEMsRUFBU3BDLEdBQUdlLFVBQVlwQyxFQUFXNEQsS0FFbEMsTUF0RjJCLE1BQzlCLE1BQU1DLEVBQUtsQyxTQUFTbUMsY0FBMEMsbUJBQzlELEdBQVcsT0FBUEQsRUFBYSxPQUNqQixNQUFNRSxFQUFhLElBQUk3RCxLQUFLMkQsRUFBR3pCLFdBQy9CdUIsYUFBWSxXQUNYSSxFQUFXVCxXQUFXUyxFQUFXaEQsYUFBZSxHQUNoRDhDLEVBQUd6QixVQUFZcEMsRUFBVytELEtBQ3hCLE1Ba0ZWQyxHQUNBdkMsSUFFQVQsSUFDQTJDLFlBQVkzQyxFQUFhIiwiZmlsZSI6ImV4dGVuc2lvbi9wYWdlL29wdGlvbi9vdmVydmlldy9vdmVydmlldy5qcyIsInNvdXJjZXNDb250ZW50IjpbIntcblx0Y29uc3QgYWxhcm1Tb3VuZCAgICAgICAgICAgICAgICAgICA9IG5ldyBBdWRpbygnaHR0cHM6Ly9xNGRpenp5LnJ1L2FsYXJtLndhdicpLFxuXHQgICAgICBwbGFuZXRhcnlVcmwgICAgICAgICAgICAgICAgID0gYC8/b3B0aW9uPW92ZXJ2aWV3YCxcblx0ICAgICAgZ2V0X3BhZ2UgICAgICAgICAgICAgICAgICAgICA9ICh1cmw6IHN0cmluZywgY2FsbGJhY2s6IGFueSkgPT4ge1xuXHRcdCAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHQgICAgICByZXF1ZXN0Lm9wZW4oYGdldGAsIHVybCwgdHJ1ZSk7XG5cdFx0ICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBgZG9jdW1lbnRgO1xuXHRcdCAgICAgIHJlcXVlc3Quc2VuZChudWxsKTtcblx0XHQgICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdCAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcblx0XHRcdFx0ICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIGNhbGxiYWNrKHJlcXVlc3QpO1xuXHRcdFx0XHQgICAgICBlbHNlIGNvbnNvbGUuZXJyb3IocmVxdWVzdC5zdGF0dXNUZXh0KTtcblx0XHRcdCAgICAgIH1cblx0XHQgICAgICB9O1xuXHQgICAgICB9LCBnZXRTZWNvbmRzRnJvbVJhdyAgICAgICAgID0gKHJhdzogc3RyaW5nKSA9PiB7XG5cdFx0ICAgICAgbGV0IHJhd0FyciAgICAgICA9IHJhdy5zcGxpdChgIGApLFxuXHRcdCAgICAgICAgICB0b3RhbFNlY29uZHMgPSAwO1xuXG5cdFx0ICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCByYXdBcnIubGVuZ3RoOyB6KyspIHtcblx0XHRcdCAgICAgIGNvbnN0IHVuaXRUaW1lID0gcmF3QXJyW3pdLnNsaWNlKC0xKSxcblx0XHRcdCAgICAgICAgICAgIHVuaXQgICAgID0gcGFyc2VJbnQocmF3QXJyW3pdLnJlcGxhY2UoLyhcXGQrKVxcdy9nLCAnJDEnKSk7XG5cblx0XHRcdCAgICAgIGlmICh1bml0VGltZSA9PT0gJ2QnKSB0b3RhbFNlY29uZHMgKz0gdW5pdCAqIDYwICogNjAgKiAyNDtcblx0XHRcdCAgICAgIGlmICh1bml0VGltZSA9PT0gJ2gnKSB0b3RhbFNlY29uZHMgKz0gdW5pdCAqIDYwICogNjA7XG5cdFx0XHQgICAgICBpZiAodW5pdFRpbWUgPT09ICdtJykgdG90YWxTZWNvbmRzICs9IHVuaXQgKiA2MDtcblx0XHRcdCAgICAgIGlmICh1bml0VGltZSA9PT0gJ3MnKSB0b3RhbFNlY29uZHMgKz0gdW5pdDtcblx0XHQgICAgICB9XG5cblx0XHQgICAgICByZXR1cm4gdG90YWxTZWNvbmRzO1xuXHQgICAgICB9LCBmb3JtYXREYXRlICAgICAgICAgICAgICAgID0gKHRpbWU6IERhdGUpID0+IHtcblx0XHQgICAgICByZXR1cm4gbmV3IERhdGUodGltZS5nZXRUaW1lKCkgLSB0aW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdUJywgJyAnKS5zdWJzdHJpbmcoMCwgMTkpO1xuXHQgICAgICB9LCBnZXRIdW1hblRpbWVzdGFtcCAgICAgICAgID0gKHRpbWVzdGFtcDogbnVtYmVyKSA9PiB7XG5cdFx0ICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDApO1xuXHRcdCAgICAgIHJldHVybiBmb3JtYXREYXRlKG5ldyBEYXRlKFxuXHRcdFx0ICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpLFxuXHRcdFx0ICAgICAgZGF0ZS5nZXRNb250aCgpLFxuXHRcdFx0ICAgICAgZGF0ZS5nZXREYXRlKCksXG5cdFx0XHQgICAgICBkYXRlLmdldEhvdXJzKCksXG5cdFx0XHQgICAgICBkYXRlLmdldE1pbnV0ZXMoKSxcblx0XHRcdCAgICAgIGRhdGUuZ2V0U2Vjb25kcygpXG5cdFx0ICAgICAgKSk7XG5cdCAgICAgIH0sIGNoZWNrQXR0YWNrICAgICAgICAgICAgICAgPSAoKSA9PiB7XG5cdFx0ICAgICAgZ2V0X3BhZ2UocGxhbmV0YXJ5VXJsLCAoZGF0YTogWE1MSHR0cFJlcXVlc3QpID0+IHtcblx0XHRcdCAgICAgIGNvbnN0IHJvdyA9IGRhdGEucmVzcG9uc2UucXVlcnlTZWxlY3RvckFsbChcInRyW3N0eWxlXVwiKTtcblxuXHRcdFx0ICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3cubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0ICAgICAgaWYgKHJvd1tpXS5zdHlsZS5jb2xvciA9PT0gJ3JnYigyNTUsNzMsNzQpJykge1xuXHRcdFx0XHRcdCAgICAgIGFsYXJtU291bmQucGxheSgpO1xuXHRcdFx0XHRcdCAgICAgIHJldHVybjtcblx0XHRcdFx0ICAgICAgfVxuXHRcdFx0ICAgICAgfVxuXHRcdCAgICAgIH0pO1xuXHQgICAgICB9LCB1cGRhdGVQbGFuZXJhcnlTZXJ2ZXJUaW1lID0gKCkgPT4ge1xuXHRcdCAgICAgIGNvbnN0IHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MVGFibGVIZWFkZXJDZWxsRWxlbWVudD4oJ3RoW2NvbHNwYW49XCIzXCJdJyk7XG5cdFx0ICAgICAgaWYgKHRoID09PSBudWxsKSByZXR1cm47XG5cdFx0ICAgICAgY29uc3Qgc2VydmVyVGltZSA9IG5ldyBEYXRlKHRoLmlubmVySFRNTCk7XG5cdFx0ICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0ICAgICAgc2VydmVyVGltZS5zZXRTZWNvbmRzKHNlcnZlclRpbWUuZ2V0U2Vjb25kcygpICsgMSk7XG5cdFx0XHQgICAgICB0aC5pbm5lckhUTUwgPSBmb3JtYXREYXRlKHNlcnZlclRpbWUpO1xuXHRcdCAgICAgIH0sIDEwMDApO1xuXHQgICAgICB9LCByZXR1cm5GbGVldFRpbWVyICAgICAgICAgID0gKCkgPT4ge1xuXHRcdCAgICAgIC8v0J7QsdGA0LDRidCw0LXQvNGB0Y8g0Log0LLRgtC+0YDQvtC5INGC0LDQsdC70LjRhtC1ICjRhNC70L7RgtGLKVxuXHRcdCAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oJ3RhYmxlW3dpZHRoPVwiNTMwXCJdJylbMV07XG5cblxuXHRcdCAgICAgIGlmICh0YWJsZS5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PigndHInKS5sZW5ndGggPiAxKSB7XG5cdFx0XHQgICAgICBjb25zdCB0ciA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEVsZW1lbnQ+KCd0cjpub3QoOmZpcnN0LWNoaWxkKScpO1xuXG5cdFx0XHQgICAgICAvL9Cf0LXRgNC10LHQvtGAINGB0YLRgNC+0Lpcblx0XHRcdCAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0ICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHQgICAgICBjb25zdCBzZWNvbmRDZWxsID0gdHJbaV0uZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLCAvL9CS0YLQvtGA0LDRjyDRj9GH0LXQudC60LAg0YLQsNCx0LvQuNGG0YsgKNCz0LTQtSDRgdGC0YDQtdC70LrQuCDQstC+0LfQstGA0LDRgtCwKVxuXHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdCAgICAgICAgICAgIHRoaXJkQ2VsbCAgPSBzZWNvbmRDZWxsLm5leHRFbGVtZW50U2libGluZywgLy8zINGP0YfQtdC50LrQsCDRgSDQtNCw0L3QvdGL0LzQuCDQviDQv9C+0LvQtdGC0LVcblx0XHRcdFx0ICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHQgICAgICAgICAgICBmbGVldENvdW50ID0gdGhpcmRDZWxsLmZpcnN0RWxlbWVudENoaWxkLm91dGVySFRNTCwgLy/QmtC+0Lst0LLQviDRhNC70L7RgtCwLlxuXHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdCAgICAgICAgICAgIGZyb20gICAgICAgPSB0aGlyZENlbGwuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLmlubmVySFRNTCwgLy/QvtGC0LrRg9C00LAuXG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0ICAgICAgICAgICAgdG8gICAgICAgICA9ICh0aGlyZENlbGwuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5ub2RlTmFtZSA9PT0gJ0lNRycpIC8v0JrRg9C00LBcblx0XHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXJkQ2VsbC5maXJzdEVsZW1lbnRDaGlsZC5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbm5lckhUTUwgLy/QldGB0LvQuCDRhNC70L7RgiDRg9C20LUg0LLQvtC30LLRgNCw0YnQsNC10YLRgdGPXG5cdFx0XHRcdFx0ICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlyZENlbGwuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbm5lckhUTUwsIC8v0JXRgdC70Lgg0YTQu9C+0YIg0LXRidGRINC90LUg0LLQvtC30LLRgNCw0YnQsNC10YLRgdGPXG5cdFx0XHRcdCAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0ICAgICAgICAgICAgbWlzc2lvbiAgICA9ICh0aGlyZENlbGwubGFzdENoaWxkLm5vZGVWYWx1ZSAhPT0gbnVsbCkgPyB0aGlyZENlbGwubGFzdENoaWxkLm5vZGVWYWx1ZS5zcGxpdChcIjpcIilbMV0gOiB0aGlyZENlbGwubGFzdENoaWxkLm91dGVySFRNTCwgLy/QnNC40YHRgdC40Y9cblx0XHRcdFx0ICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHQgICAgICAgICAgICBsYXN0VGltZSAgID0gZ2V0U2Vjb25kc0Zyb21SYXcodHJbaV0uZmlyc3RDaGlsZCEuZmlyc3RFbGVtZW50Q2hpbGQhLmlubmVySFRNTCk7IC8vINCe0YHRgtCw0LLRiNC10LXRgdGPINCy0YDQtdC80Y9cblxuXHRcdFx0XHQgICAgICBmb3IgKGxldCB4ID0gaSArIDE7IHggPCB0ci5sZW5ndGg7IHgrKykge1xuXHRcdFx0XHRcdCAgICAgIC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHQgICAgICBjb25zdCBuZXh0Um93ICAgICAgICAgICA9IHRyW3hdLmZpcnN0RWxlbWVudENoaWxkIS5uZXh0RWxlbWVudFNpYmxpbmchLm5leHRFbGVtZW50U2libGluZyxcblx0XHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ICAgICAgICAgICAgbmV4dFJvd0ZsZWV0Q291bnQgPSBuZXh0Um93LmZpcnN0RWxlbWVudENoaWxkLm91dGVySFRNTCxcblx0XHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ICAgICAgICAgICAgbmV4dFJvd0Zyb20gICAgICAgPSBuZXh0Um93LmZpcnN0RWxlbWVudENoaWxkLm5leHRFbGVtZW50U2libGluZy5pbm5lckhUTUwsXG5cdFx0XHRcdFx0ICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdCAgICAgICAgICAgIG5leHRSb3dUbyAgICAgICAgID0gKG5leHRSb3cuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5ub2RlTmFtZSA9PT0gJ0lNRycpXG5cdFx0XHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5leHRSb3cuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcuaW5uZXJIVE1MXG5cdFx0XHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRSb3cuZmlyc3RFbGVtZW50Q2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbm5lckhUTUwsXG5cdFx0XHRcdFx0ICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdCAgICAgICAgICAgIG5leHRSb3dNaXNzaW9uICAgID0gKG5leHRSb3cubGFzdENoaWxkLm5vZGVWYWx1ZSAhPSBudWxsKVxuXHRcdFx0XHRcdFx0ICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXh0Um93Lmxhc3RDaGlsZC5ub2RlVmFsdWUuc3BsaXQoXCI6XCIpWzFdXG5cdFx0XHRcdFx0XHQgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRSb3cubGFzdENoaWxkLm91dGVySFRNTDtcblxuXHRcdFx0XHRcdCAgICAgIGlmIChuZXh0Um93RmxlZXRDb3VudCA9PT0gZmxlZXRDb3VudCAmJiBuZXh0Um93RnJvbSA9PT0gdG8gJiYgbmV4dFJvd1RvID09PSBmcm9tICYmIG5leHRSb3dNaXNzaW9uID09PSBtaXNzaW9uKSB7XG5cdFx0XHRcdFx0XHQgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHQgICAgICBjb25zdCBuZXh0Um93VGltZXN0YW1wID0gcGFyc2VJbnQodHJbeF0uZmlyc3RDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5hdHRyaWJ1dGVzLmFsdC52YWx1ZSk7XG5cdFx0XHRcdFx0XHQgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZ2V0SHVtYW5UaW1lc3RhbXAobmV4dFJvd1RpbWVzdGFtcCkpO1xuXG5cdFx0XHRcdFx0XHQgICAgICBkYXRlLnNldFNlY29uZHMoZGF0ZS5nZXRTZWNvbmRzKCkgLSAobGFzdFRpbWUgKiAyKSk7XG5cblx0XHRcdFx0XHRcdCAgICAgIC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdCAgICAgIGlmICh0cltpXS5maXJzdENoaWxkLm5leHRFbGVtZW50U2libGluZy5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0XHQgICAgICAvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0XHRcdCAgICAgIHNlY29uZENlbGwuaW5uZXJIVE1MICs9ICc8ZGl2IGNsYXNzPVwicmV0dXJuX3RpbWVcIiBzdHlsZT1cIm1pbi13aWR0aDogNzVweDtcIj4nICsgZm9ybWF0RGF0ZShkYXRlKSArICc8L2Rpdj4nOyAvL9Cy0YDQtdC80Y8g0L/RgNC4INCy0L7Qt9Cy0YDQsNGC0LVcblx0XHRcdFx0XHRcdCAgICAgIH1cblxuXHRcdFx0XHRcdFx0ICAgICAgYnJlYWs7XG5cdFx0XHRcdFx0ICAgICAgfVxuXHRcdFx0XHQgICAgICB9XG5cdFx0XHQgICAgICB9XG5cdFx0XHQgICAgICB1cGRhdGVSZXR1cm5GbGVldHNUaW1lKCk7XG5cdFx0ICAgICAgfVxuXG5cdCAgICAgIH0sIHVwZGF0ZVJldHVybkZsZWV0c1RpbWUgICAgPSAoKSA9PiB7XG5cdFx0ICAgICAgY29uc3Qgcl9mbGVldHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdyZXR1cm5fdGltZScpO1xuXG5cdFx0ICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0ICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByX2ZsZWV0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHQgICAgICBjb25zdCByZXR1cm5UaW1lID0gbmV3IERhdGUocl9mbGVldHNbaV0uaW5uZXJIVE1MKTtcblx0XHRcdFx0ICAgICAgcmV0dXJuVGltZS5zZXRTZWNvbmRzKHJldHVyblRpbWUuZ2V0U2Vjb25kcygpICsgMik7XG5cdFx0XHRcdCAgICAgIHJfZmxlZXRzW2ldLmlubmVySFRNTCA9IGZvcm1hdERhdGUocmV0dXJuVGltZSk7XG5cdFx0XHQgICAgICB9XG5cdFx0ICAgICAgfSwgMTAwMCk7XG5cdCAgICAgIH07XG5cblx0dXBkYXRlUGxhbmVyYXJ5U2VydmVyVGltZSgpO1xuXHRyZXR1cm5GbGVldFRpbWVyKCk7XG5cblx0Y2hlY2tBdHRhY2soKTtcblx0c2V0SW50ZXJ2YWwoY2hlY2tBdHRhY2ssIDMwMDAwMDApO1xufSJdfQ==
